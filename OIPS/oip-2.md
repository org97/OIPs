---
oip: 2
название: Невероятный Гражданин
автор: @sumlenny, @kastusby
cтатус:	Драфт
тип: Проект
создан: 07.10.2020
---

# Аннотация

Телеграм-бот (платформа), которая позволяет децентрализованным образом подавать идеи [акций](#глоссарий) для проявления активной гражданской позиции, голосовать и участвовать в них.

# Мотивация

В данный момент мы наблюдаем много вдохновляющих акций беларусов - цепи солидарности, хоровые исполнения в общественных местах, дворовые акции, массовые марши протеста, и т.д.

Некоторые из них организуются при содействии популярных телеграм-каналов. Другие невероятные граждане самоорганизуются, используя закрытые группы и дворовые чаты. 

Текущие подходы к организации работают и имеют как преимущества, так и недостатки. 
Мы считаем, что невероятным гражданам будет полезен инструмент для **эффективной, анонимной, децентрализованой самоорганизации** для участия в каждодневных акциях по всей стране.

Рабочее название такому инструменту - телеграм бот "Невероятный Гражданин".

Данный бот позволит:
- Предложить идею акции
- Провалидировать идею другими участниками
- Собрать заинтересованных участников в нужном месте в нужное время

# Спецификация проекта

Ниже описаны основные этапы взаимодействия пользователя с ботом:

1. [Регистрация](#регистрация)
2. [Предложение идеи](#предложение-идеи)
3. [Валидация идеи](#валидация-идеи)
4. [Голосование](#голосование)
5. [Участние](#участние)
6. [Обратная связь](#обратная-связь)
7. [Пользователь инициирует взаимодействие с ботом](#пользователь-инициирует-взаимодействие-с-ботом)
8. [Таймлайн для отдельно взятой идеи](#таймлайн-для-отдельно-взятой-идеи)
9. [Конфигурационные параметры](#конфигурационные-параметры)

## Регистрация

Ключевая информация при регистрации пользователя - город проживания, т.к. акции бывают **гео-зависимые** и **гео-независимые**.

- Пользователь находит бота по имени/ссылке:
  - Присутствует подробное описание бота
- Пользователь начинает взаимодействие с ботом (кнопка старта или вызов команды '/start')
- Пользователь получает приветственное сообщение с питчем проекта и предложением пройти регистрацию
  - Пользователь выбирает "Регистрация":    
    - Пользователь указывает **свой город**:
      - Пользователь видит обоснование указания города: акции бывают гео-зависимые и гео-независимые
    - Пользователь получает поздравительное сообщение о завершении регистрации с краткой информацией, что можно делать в боте
    - Сразу после регистрации появляется [меню взаимодействия с ботом](#пользователь-инициирует-взаимодействие-с-ботом)

## Предложение идеи

Все идеи предлагаются самими участниками системы и отбираются ими же путём децентрализованной валидации. Любой участник может предложить идею по желанию.

- Пользователь выбирает "Предложить идею" из меню бота
- Пошаговый визард предложения идеи:
  - Пользователь видит основные **правила подачи идеи акции**:
    - Пользователь может предложить только одну идею в сутки
    - Можно предложить акцию только до `_время-окончания-подачи-идеи-акции_` текущего дня (чтобы идеи успели пройти валидацию)
    - Идеи проходят валидацию. 
    - Провокационные идеи, реклама и прочая нерелевантная информация ведут к блокировке пользователя
    - На этапе голосования пользователи видят только:
      - Название акции
      - Краткое описание акции
      - Время акции
  - Пользователь выбирает "Продолжить"
  - Пользователь вводит название акции
  - Пользователь вводит краткое описание акции
  - Пользователь выбирает: зависит ли акция от геолокации (должна ли акция требовать физического присутствия группы участников в одном месте):
    - **Если да**: пользователь выбирает место проведения акции:
      - Необходимо указать город
      - Необходимо указать точное место проведения
    - **Если нет**: переходим дальше
  - Дата акции всегда [следующий день](#открытые-вопросы) (каждая идея должна пройти валидацию другими пользователями; система принимает акции только за день до их проведения)
  - Время акции (обязательно для гео-зависимой акции, опционально для гео-независимой акции). Время должно быть в промежутке `_минимальное-возможное-время-начала-акций_` - `_максимальное-возможное-время-начала-акций_`
  - Подробное описание акции
  - Пользователь выбирает `_момент-объявления-подробной-иформации-по-акции_`:
    - Сразу после голосования 
    - За 2 часа до начала
    - За 1 час до начала
    - За 30 мин до начала
  - Ревизия введенных данных (такую информацию увидят валидаторы). Доступные варианты:
    - Предложить идею
    - Отменить

## Валидация идеи

Так как система децентрализована, необходим механизм адекватной оценки новых идей перед их выдвижением на голосование, чтобы предотвратить появление провокационных/нерелевантных сообщений на широкую аудиторию.

- Механизм валидации:
  - Идея рассылается `_случайной-выборке-валидаторов_` системы
    - Выборка должна быть минимальной и достаточной, чтобы принять решение относительно адекватности идеи
    - Выборка формируется из пользователей, которые могут получать новую идею на валидацию:
      - У пользователя не должно быть существующей незавершённой валидации
      - Пользователь не исключил себя из списка валидаторов
      - Пользователь не заблокирован
    - Пользователи из выборки получают предложение провалидировать идею и должны подтвердить готовность уделить необходимое время для валидации идеи:
      - **Пользователь даёт утвердительный ответ**: переходим к следующему шагу
      - **Пользователь даёт отрицательный ответ**: 
        - бот выбирает нового пользователя
        - бот уточняет у пользователя хочет ли он быть среди валидаторов
    - Пользователь получает критерии оценки идеи (**TBD**: необходимо подробно описать критерии)
      - Пользователь выбирает "Далее"
    - Пользователь получает полную информацию об акции
    - Пользователь выбирает "Оценить"
    - Визард оценки (пример):
      - Соответствует ли данная акция общим целям? (да, нет, не уверен)
        - **Если нет**: конец оценки
      - Присутствуют ли призывы к насилию? (да, нет)
        - **Если да**: конец оценки
      - Выглядит ли данная акция провокацией? (да, нет)
        - **Если да**: конец оценки
      - Достаточно ли информации по данной акции для принятия решения в её участии? (да, нет, не уверен)
      - Какое минимальное число участников должно быть, по вашему мнению, для данной акции? (только для гео-зависимых)
        - 1-50
        - 50-100
        - 100-500
        - 500-1000
        - больше 1000
      - Как бы вы оценили от 1 до 10 интерес для вас лично в данной акции?
- Валидация ограничена по времени до `_время-окончания-валидации_`
  - Если пользователь присылает финальный результат до `_время-окончания-валидации_`, бот:
    - Благодарит пользователя
  - Если пользователь присылает ответ по одному из вопросов валидации после `_время-окончания-валидации_`, бот:
    - Благодарит пользователя
    - Уведомляет пользователя об окончании времени для валидации данной идеи
- Пользователь не может получить новую идею на валидацию не завершив процесс по предыдущей полученной идее
- Механизм блокировки пользователей:
  - Если хотя бы `_блокирующий-процент-валидаторов_` указали, что в акции присутствуют призывы к насилию, либо акция является провокацией, то предложивший идею пользователь навсегда блокируется в системе

### Потенциальные улучшения

- Если пользователь отказался три раза подряд валидировать идею, исключать его из пула валидаторов автоматически
- Пользователь может сам сообщить боту, хочет ли он быть в пуле валидаторов после регистрации
- Ввести возможность отправлять пользователю идею на доработку, если рейтинг хороший, но много валидаторов указало, что недостаточно информации

## Голосование

На голосование выдивигаются самые популярные идеи, прошедшие валидацию.

- Голосование проводится один раз в сутки
- Голосование доступно ограниченное время с `_время-начала-голосования_` до `_время-окончания-голосования_`
- На голосование проходит не больше `_максимального-числа-идей-для-голосования_`, набравших наибольший рейтинг среди валидаторов
  - Идеи, выдвигающиеся на голосование, для каждого города разные (зависят от геолокации идей)
    - Не должны выдвигаться идеи, где минимально необходимое число участников больше, чем число зарегистрированных пользователей в городе    
  - Гео-независимые идеи соревнуются в рейтинге с гео-зависимыми идеями в каждом отдельно взятом городе
- В момент начала голосования пользователь получает список акций
  - По каждой акции доступно название, краткое описание, время
  - Присутствует вариант "Не участвовать сегодня"
- Пользователь может выбрать только один вариант

### Потенциальные улучшения

- Возможно, необходимо проработать механизм исключения дублирующихся (или очень похожих) идей. На данном этапе кажется, что такая оптимизация будет преждевременной.

## Участие

Сразу после выбора акции, на этапе голосования, пользователь выражает свое намерение участвовать в акции сегодня. Но подтверждение участия должно быть предоставлено дополнительно, как только известна полная информация по акции.

- Точное место акции и полная информация сообщаются в соответствии с конфигурацией, которую автор акции указал при создании акции (сразу после голосования/незадолго до акции)
  - В случае "незадолго до акции": Пользователь получает сообщение, что полная информация об акции будет доступна за время `_момент-объявления-подробной-иформации-по-акции_` до начала акции
  - Т.к. бот может медленно рассылать сообщения пользователям, всегда есть возможность явно запросить полную информацию по акции при помощи команды "Моя акция" из [меню бота](#пользователь-инициирует-взаимодействие-с-ботом)
- Пользователи должны подтвердить своё участие после разглашения полной информации:
  - **Пользователь подтверждает**:
    - Бот высылает сообщение-благодарность
  - **Пользователь не подтверждает**:
    - Бот высылает сообщение-благодарность и просит предоставить [обратную связь](#обратная-связь)
- Пользователь может вызвать бота через команду "Моя акция" из [меню бота](#пользователь-инициирует-взаимодействие-с-ботом) и отказаться от участия в акции в любой момент до её начала
  - Бот высылает сообщение-благодарность и просит предоставить [обратную связь](#обратная-связь)
- Через `_время-запроса-обратной-связи-после-акции_` пользователь получает сообщение-запрос на обратную связь
- Если за 15 минут до начала акции не набирается `_критической-массы-участников_`, бот рассылает сообщение, что акция не состоится
  - Здесь необходимо учитывать технические особенности платформы, чтобы не "подставить" случайно пользователей. См. [Открытые вопросы](#открытые-вопросы)

## Обратная связь

Обратная связь запрашиватся ботом:
- После отказа от участия
- После завершения акции

Пользователь может сам инициировать обратную связь через [меню бота](#пользователь-инициирует-взаимодействие-с-ботом)

Необходимые поля для подачи обратной связи:
- **TDB**: необходимо учесть возможную привязку к акции

## Пользователь инициирует взаимодействие с ботом

Всегда доступны следующие команды бота:
- **Подать идею акции**
- **Моя акция**
  - Если пользователь не проголосовал за определенную акцию сегодня:
    - Если список сегодняшних акций сформирован, пользователь его получает
    - Если список еще не сформирован (пользователь выбрал "Моя акция" до `_время-начала-голосования_`), пользователь получает соответствующее сообщение
  - Если пользователь проголосовал за определенную акцию сегодня:
    - **Подробная информация по акции уже доступна**: Пользователь получает подробную информацию по акции
    - **Подробная информация по акции еще не доступна**: Пользователь получает только название, краткое описание, время акции и информацию о том, за сколько до начала акции будет доступно подробное описание
- **Настройки**
  - Обновить свой город
  - Стать/перестать быть валидатором
- **Другое**
  - Пригласить друзей
    - Система не должна хранить связи между пользователями. Никакой реферальной программы.
  - Вызвать FAQ
  - Предоставить обратную связь

### Потенциальные улучшения

- Пользователь может указать в настройках дни, в которые он хочет получать список акций

## Таймлайн для отдельно взятой идее

**День 1:** [ Подача идеи ] -> [ Валидация идеи ] -> [ Идея попадает в пул ] -> [ Бот выбирает и анонсирует идеи ] -> [ Голосование ] -> [ Подтверждение участия ]
**День 2:** [ Подтверждение участия ] -> [ Участие ] -> [ Обратная связь ]

` Подача идеи` - Ограничена по времени с 00:00 до `_время-окончания-подачи-идеи-акции_`

` Валидация идеи` - Ограничена по времени с `_время-начала-валидации_` идеи до `_время-окончания-валидации_`

` Идея попадает в пул` - Идея успешно прошла валидацию, ей присвоен рейтинг

` Бот выбирает и анонсирует идеи` - Идеи выбираются автоматически по рейтингу и анонсируются пользователям с учётом геолокационных данных идей

` Голосование` - Пользователи выбирают понравившуюся идею акции, либо принимают решение не участвовать

` Подтверждение участия` - Доступно сразу после оглашения полной информации по акции

` Обратная связь` - пошаговая оценка акции

## Конфигурационные параметры

`_время-начала-голосования_` - Голосование должно проходить как можно раньше

`_время-окончания-голосования_` - Время для голосования ограничено, чтобы не пересекаться со временем начала акций

`_минимальное-возможное-время-начала-акций_` - Акции не должны начинаться до момента завершения голосования

`_максимальное-возможное-время-начала-акций_` - Акции не должны начинаться слишком поздно

`_время-окончания-подачи-идеи-акции_` - Должно учитывать, что идея должна успеть пройти валидацию

`_случайная-выборка-валидаторов_` - Выборка из V валидаторов, необходимых для адекватной оценки акции

`_время-начала-валидации_` - Не стоит беспокоить валидаторов во время ночного отдыха

`_время-окончания-валидации_` - Валидация должна быть проведена до голосования

`_блокирующий-процент-валидаторов_` - Необходимый процент валидаторов, сообщивших о провокации либо призыве к насилию для блокировки пользователя

`_максимальное-число-идей-для-голосования_` - Число идей акций, отобранных для голосования в рамаках одного дня

`_момент-объявления-подробной-иформации-по-акции_` - Относительное время до начала акции. Пользователи задают его на этапе предложения идеи

`_время-запроса-обратной-связи-после-акции_` - Относительное время, после которого пользователь может дать обратную связь по акции

`_критическая-масса-участников_` - Усреднённое число на основании ответов валидаторов. Если незадолго до акции критическая масса не набирается, акция отменяется ботом

# Глоссарий

`Акция` - публичные [общественно-политические действия](https://ru.wikipedia.org/wiki/Акция_(политика)), ставящие целью привлечь внимание

# Открытые вопросы

## Вопрос: Что лучше на старте - полностью открытая система или система с частичным предоставлением информации по ходу времени?

Должна ли система быть максимально открытой, с точки зрения предоставления информации участникам системы, или же информация должна подаваться частично по мере приближения акции? Мы исходим из того, что в системе есть наличие "деструктивных сил", действующих в своих целях, противоположных целям большинства участников
- **Открытая система**
  - Свойства:
    - В момент голосования доступны название, краткое описание, время и место проведения акции
    - После голосования сразу доступно полное описание акции
    - (Опционально) Пользователи видят число других подтвердившихся участников
  - Преимущества:
    - Информация доступна пользователю в полном объёме сразу после голосования, что ведет к лучшему планированию своего времени
    - Информация о проголосовавших участниках или о подтвердившихся участниках может служить стимулом к принятию решения об участии
  - Недостатки:
    - Открытая система даёт "деструктивным силам" свои преимущества по лучшему планированию
- **Более закрытая система** (с частичным предоставлением информации по ходу времени)
  - Свойства:
    - В момент голосования доступны название, краткое описание и время акции
    - После голосования не предоставляется дополнительная информация
      - неизвестно сколько людей проголосовало за данную акцию
      - неизвестно, состоится она или нет
    - Полная информация об акции и месте её проведения предоставляется незадолго до ее начала (например, за 1ч до начала)
    - Чекин служит для подтверждения участия и проходит сразу после объявления полной информации. Пользователи не видят число других пользователей, 
    прошедших чекин
    - Акция может быть отменена ботом, не успев начаться, если подтвердилось недостаточное число участников, что может гарантировать бОльшую безопасность
      - Закрытая система хорошо работает в случае наличия мобильных пользователей, готовых быстро принимать решения и передвигаться
  - Преимущества:
    - Более закрытая система даёт меньше преимуществ "деструктивным силам"
    - Закрытой системе может быть проще расти на начальных этапах, по сравнению с открытой
    - Закрытые системы могут быть безопасней для участников
  - Недостатки:
    - Самим пользователям неизвестно, сколько других пользователей приняло решение участвовать в акции
    - Меньше пользователей может успеть поучаствовать в итоге в акции
    - Отсутствие информации о числе участников может демотивировать

### Текущее решение

С учетом аргумента безопасности пользователей, пока принято решение:
- не отображать число участников
- предоставить гибкий выбор: когда объявлять полную информацию по акции при её создании

Необходимо мнение более широкой группы.

## Вопрос: За сколько до начала акции лучше подавать идею акции?

### Текущее решение

Идеи всегда подаются за одинь день до акции. Так легче строить техническую реализацию на старте.

## Вопрос: Нужен ли второй этап валидации?

С одной стороны, на первом этапе должно участвовать минимальное необходимое число пользователей, чтобы эффективно выявлять деструктивные идеи. С другой стороны, если среднее число провалидировавших пользователей на идею сильно меньше, чем число подаваемых идей в гео-локации, то может выйти ситуация, что много идей будут иметь +/- одинаковый рейтинг, и выбор "найлучшего" пула идей для голосования будет неочевиден. В этом случае возможно организовать вторую ступень валидации. Например:
- **Вторая ступень**: если идея успешно проходит валидацию первой выборкой пользователей, она рассылается более широкой выборке пользователей
    - Критерий успешности превой ступени:
      - Менее чем `_блокирующий-процент-валидаторов_` считает, что идея призывает к насилию или является провокацией
      - Средняя оценка интереса данной акции среди валидаторов выше определенного числа
    - Механизм второй ступени валидации такой же, как у первой ступени
    - Цель второй ступени - уточнение рейтинга идеи

### Текущее решение

Пока принято решение усложнять систему по мере необходимости.

## Вопрос: Должны ли валидаторы быть привязаны к гео-локации?

### Текущее решение

Для простоты на старте, валидаторы могут проверять идеи для всех локаций.

## Вопрос: Как быть с техническими ограничениями телеграма?
- push сообщений очень медленный - будет плохо работать для большой группы пользователей (учесть rate-limit телеграма для bot api)

### Текущее решение

Пользователи могут явно запросить текущую информацию при помощи команды "Моя акция" из [меню бота](#пользователь-инициирует-взаимодействие-с-ботом)

# FAQ

Пользователь может вызвать FAQ (часто задаваемые вопросы) из [меню бота](#пользователь-инициирует-взаимодействие-с-ботом)
Начальный список вопросов будет решён позже. FAQ будет формироваться и уточняться по ходу получения вопросов от пользователей.

Пример вопросов:
- Это анонимно?
- Кто валидирует идеи?
- Как принимается решение о том, какие идеи выдвигаются на голосование?
